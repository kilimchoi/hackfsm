<%## Place all the behaviors and hooks related to the matching controller here.%>
<%## All this logic will automatically be available in application.js.%>
<%## You can use CoffeeScript in this file: http://coffeescript.org/%>
angular.module('galleryApp', ['wu.masonry']).controller('GalleryGridCtrl', ['$scope', '$http', '$sce', function($scope, $http, $sce) {
     $scope.bricks =[];
     $scope.search = function(){
          $http.get('/result').success(function(data) {
            console.log(data);
            $scope.bricks = data;
          });

     };
    $scope.trustAsResourceUrl = function(url){
        return $sce.trustAsResourceUrl(url);
    };
}]);



        // Start of spinning wheel 
        var opts = {
            lines: 10, // The number of lines to draw
            length: 7, // The length of each line
            width: 4, // The line thickness
            radius: 10, // The radius of the inner circle
            corners: 1, // Corner roundness (0..1)
            rotate: 0, // The rotation offset
            color: '#000', // #rgb or #rrggbb
            speed: 1, // Rounds per second
            trail: 60, // Afterglow percentage
            shadow: false, // Whether to render a shadow
            hwaccel: false, // Whether to use hardware acceleration
            className: 'spinner', // The CSS class to assign to the spinner
            zIndex: 2e9, // The z-index (defaults to 2000000000)
            top: 'auto', // Top position relative to parent in px
            left: 'auto' // Left position relative to parent in px
        };
        var target = document.getElementById("spinner");
        var spinner = new Spinner(opts).spin(target);
        $("#spinner").hide();
        // End of spinning wheel 

        // Start of voice recognition Search 
        $(document).ready(function()
        {
            $('#q').bind('webkitspeechchange',function()
            {   
                $('#searchBox').submit();
                    $("#spinner").show();
            });
        });
        // End of voice recognition Search

        $("#searchButton").on("click" , function() {
            $("#spinner").show();
        });
